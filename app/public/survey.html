<!DOCTYPE html>
<html lang = "en">
<head>

	<meta charset= "UTF-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Survey Page</title>

	<link rel="stylesheet" type="text/css" href="./app/public/reset.css">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

	<link rel="stylesheet" type="text/css" href="./app/public/style.css">

</head>
<body>

	<h1 class ="heading">Survey Questions</h1>

	<hr>

	<form method = "POST" action = "/api/potentialFriends">
		<div class = " form-group">
			<h2>About You</h2>
			<label for = "staticName">Name(Required)</label>
			<input type = "name" class = "form-control" id = "exampleName" aria-describedby = "nameHelp" placeholder = "Enter Name">

			<label for = "staticLink">Link to Photo Image(Required)</label>
			<input type = "link" class = "form-control" id = "exampleLink" aria-describedby = "linkHelp" placeholder = "Enter Link">

			<hr>

			<h2>Questions</h2>

			<h3>Question 1</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q1" name = "scores[0]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 2</h3>

			<label>How much do you like the beach?</label>

			<select class = "form-control" id = "q2" name = "scores[1]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 3</h3>

			<label>How much do you like the beach?</label>

			<select class = "form-control" id = "q3" name = "scores[2]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 4</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q4" name = "scores[3]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 5</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q5" name = "scores[4]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 6</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q6" name = "scores[5]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 7</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q7" name = "scores[6]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 8</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q8" name = "scores[7]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 9</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q9" name = "scores[8]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<h3>Question 10</h3>

			<label>How much do you like pizza?</label>

			<select class = "form-control" id = "q10" name = "scores[9]">
					<option>1 (Strongly Disagree)</option>
					<option>2</option>
					<option>3</option>
					<option>4</option>
					<option>5 (Strongly Agree</option>


			</select>

			<br>

			<input type = "submit" class = "btn btn-primary" value = "Request Match" id = "submit">

		</div>

	</form>

<div id="bestMatchModal" class="modal fade" role="dialog">

	<div class="modal-dialog">

		<div class="modal-content">

			<div class="modal-header">

				<button type="button" class="close" data-dismiss="modal">X</button>

				<h2 class="modal-title">Best Match</h2>

			</div>

			<div class="modal-body">

				<h2 id="bestMatchName"></h2>

				<img id="bestMatchImg" src="https://www.google.com/search?q=huskies&source=lnms&tbm=isch&sa=X&ved=0ahUKEwjgmevIjqXXAhUBSWMKHdKfBO0Q_AUICigB&biw=767&bih=741#imgdii=U_tljlsS2MS0oM:&imgrc=Yej91j8Lo6YBkM:" onError="this.src='https://www.google.com/search?q=huskies&source=lnms&tbm=isch&sa=X&ved=0ahUKEwjgmevIjqXXAhUBSWMKHdKfBO0Q_AUICigB&biw=767&bih=741#imgdii=VIJBGJNdnqwZaM:&imgrc=Yej91j8Lo6YBkM:'" width=500px alt="Best Match">

			</div>

		</div>

	</div>

</div>

<script type="text/javascript">

	$('#submit').on("click", function() {

		var userInput = {

			name: $('#name').val().trim(),
			photo: $('#photo').val().trim(),
			scores: [$('#question01').val().trim(), $('#question02').val().trim(), $('#question03').val().trim(), $('#question04').val().trim(), $('#question05').val().trim(), $('#question06').val().trim(), $('#question07').val().trim(), $('#question08').val().trim(), $('#question09').val().trim(), $('#question10').val().trim()]
		}

		var currentURL = window.location.origin;

		$.post(currentURL + '/api/friends', userInput, function(data) {
			$("#bestMatchName").text(data.name);
			$("#bestMatchImg").attr("src", data.photo);
			$("#bestMatchModal").modal("show");
		});
		return false;
	});
	
</script>



</body>
</html>